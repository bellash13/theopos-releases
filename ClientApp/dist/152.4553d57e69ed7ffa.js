"use strict";(self.webpackChunktheopos=self.webpackChunktheopos||[]).push([[152],{8152:(T,g,i)=>{i.r(g),i.d(g,{SalesModule:()=>A});var l=i(9808),e=i(1223),r=i(2291),n=i(5425),u=i(3194);function p(a,s){if(1&a&&(e.TgZ(0,"tr",24)(1,"td",25)(2,"a",26),e._uU(3),e.ALo(4,"date"),e.qZA()(),e.TgZ(5,"td",27)(6,"div",19),e._uU(7),e.ALo(8,"number"),e.qZA()()()),2&a){const o=s.$implicit;e.xp6(2),e.MGl("routerLink","/sales/",o.invoiceId,""),e.xp6(1),e.hij(" ",e.xi3(4,3,null==o.invoiceDate?null:o.invoiceDate.toDate(),"dd/MM HH:mm"),""),e.xp6(4),e.Oqu(e.lcZ(8,6,o.total))}}function Z(a,s){if(1&a&&(e.TgZ(0,"tr",24)(1,"td",25)(2,"a",26),e._uU(3),e.qZA()(),e.TgZ(4,"td",27)(5,"div",19),e._uU(6),e.ALo(7,"number"),e.qZA()()()),2&a){const o=s.$implicit;e.xp6(2),e.MGl("routerLink","/sales/",o.invoiceId,""),e.xp6(1),e.hij(" ",null==o.partner?null:o.partner.name,""),e.xp6(3),e.Oqu(e.lcZ(7,3,o.total))}}const m=[{path:"",component:(()=>{class a{constructor(o){this.invoiceServ=o,this.today=new Date,this.salesPage=1,this.salesPageSize=5,this.lastSales=[]}ngOnInit(){this.getLastSales()}getLastSales(){this.invoiceServ.index().subscribe(o=>{this.lastSales=o})}}return a.\u0275fac=function(o){return new(o||a)(e.Y36(r.GR))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-sales"]],decls:106,vars:52,consts:[[1,""],[1,"row"],[1,"col-md-3","mb-3"],[1,"card","shadow"],[1,"card-header","border-bottom-0"],[1,"col-sm-8","bg-warning","text-white"],[1,"col-sm-4","small","text-end"],[1,"card-body"],[1,"text-end","lead","border-bottom"],[1,"card-text"],[1,"col-sm-8","bg-success","text-white"],[1,"col-sm-8","bg-danger","text-white"],[1,"col-sm-8","bg-info","text-white"],[1,"lead","mt-4","mb-4"],[1,"col-md-6","mb-3"],[1,"lead","mt-2","mb-2"],[1,"table"],[1,"border-bottom"],[1,"pt-2","pb-3"],[1,"text-end"],["class","text-muted small border-top-0 border-bottom",4,"ngFor","ngForOf"],[1,"card-footer","text-muted"],[3,"page","pageSize","collectionSize","pageChange"],[1,"table","table-borderless"],[1,"text-muted","small","border-top-0","border-bottom"],[1,"pt-2","pb-2"],[1,"text-muted",2,"text-decoration","none",3,"routerLink"],[1,"pr-4"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"router-outlet"),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",1)(7,"div",5),e._uU(8),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"div",6),e._UZ(11,"strong"),e.qZA()()(),e.TgZ(12,"div",7)(13,"div",8),e._uU(14),e.ALo(15,"number"),e.qZA(),e.TgZ(16,"p",9)(17,"small"),e._uU(18),e.ALo(19,"date"),e.qZA()()()()(),e.TgZ(20,"div",2)(21,"div",3)(22,"div",4)(23,"div",1)(24,"div",10),e._uU(25),e.ALo(26,"date"),e.qZA(),e.TgZ(27,"div",6),e._UZ(28,"strong"),e.qZA()()(),e.TgZ(29,"div",7)(30,"div",8),e._uU(31),e.ALo(32,"number"),e.qZA(),e.TgZ(33,"p",9)(34,"small"),e._uU(35),e.ALo(36,"date"),e.qZA()()()()(),e.TgZ(37,"div",2)(38,"div",3)(39,"div",4)(40,"div",1)(41,"div",11),e._uU(42),e.ALo(43,"date"),e.qZA(),e.TgZ(44,"div",6),e._UZ(45,"strong"),e.qZA()()(),e.TgZ(46,"div",7)(47,"div",8),e._uU(48),e.ALo(49,"number"),e.qZA(),e.TgZ(50,"p",9)(51,"small"),e._uU(52),e.ALo(53,"date"),e.qZA()()()()(),e.TgZ(54,"div",2)(55,"div",3)(56,"div",4)(57,"div",1)(58,"div",12),e._uU(59,"Marges"),e.qZA(),e.TgZ(60,"div",6),e._UZ(61,"strong"),e.qZA()()(),e.TgZ(62,"div",7)(63,"div",8),e._uU(64),e.ALo(65,"number"),e.qZA(),e.TgZ(66,"p",9)(67,"small"),e._uU(68,"Marges d\xe9gag\xe9es"),e.qZA()()()()()(),e.TgZ(69,"h4",13),e._uU(70,"VENTES RECENTES"),e.qZA(),e.TgZ(71,"div",1)(72,"div",14)(73,"div",3)(74,"div",7)(75,"h4",15),e._uU(76,"DERNIERES VENTES"),e.qZA(),e.TgZ(77,"table",16)(78,"tr",17)(79,"td",18),e._uU(80,"Date"),e.qZA(),e.TgZ(81,"td",19),e._uU(82,"Montant"),e.qZA()(),e.YNc(83,p,9,8,"tr",20),e.ALo(84,"slice"),e.qZA(),e.TgZ(85,"p",9),e._uU(86),e.qZA()(),e.TgZ(87,"div",21)(88,"ngb-pagination",22),e.NdJ("pageChange",function(d){return t.salesPage=d}),e.qZA()()()(),e.TgZ(89,"div",14)(90,"div",3)(91,"div",7)(92,"h4",15),e._uU(93,"DERNIERES IMPORTANTES"),e.qZA(),e.TgZ(94,"table",23)(95,"tr",17)(96,"td",18),e._uU(97,"Client"),e.qZA(),e.TgZ(98,"td",19),e._uU(99,"Montant"),e.qZA()(),e.YNc(100,Z,8,5,"tr",20),e.ALo(101,"slice"),e.qZA(),e.TgZ(102,"p",9),e._uU(103),e.qZA()(),e.TgZ(104,"div",21)(105,"ngb-pagination",22),e.NdJ("pageChange",function(d){return t.salesPage=d}),e.qZA()()()()()()),2&o&&(e.xp6(8),e.Oqu(e.lcZ(9,20,t.today)),e.xp6(6),e.Oqu(e.lcZ(15,22,284e3)),e.xp6(4),e.hij("Total du ",e.lcZ(19,24,t.today),""),e.xp6(7),e.hij("Semaine ",e.xi3(26,26,t.today,"w"),""),e.xp6(6),e.Oqu(e.lcZ(32,29,784e3)),e.xp6(4),e.hij("Semaine ",e.xi3(36,31,t.today,"w"),""),e.xp6(7),e.Oqu(e.xi3(43,34,t.today,"MMMM yyyy")),e.xp6(6),e.Oqu(e.lcZ(49,37,1784e3)),e.xp6(4),e.Oqu(e.xi3(53,39,t.today,"MMMM yyyy")),e.xp6(12),e.Oqu(e.lcZ(65,42,81e3)),e.xp6(19),e.Q6J("ngForOf",e.Dn7(84,44,t.lastSales,(t.salesPage-1)*t.salesPageSize,t.salesPage*t.salesPageSize)),e.xp6(3),e.hij("Les ",t.salesPageSize," derni\xe8res ventes en date"),e.xp6(2),e.Q6J("page",t.salesPage)("pageSize",t.salesPageSize)("collectionSize",t.lastSales.length),e.xp6(12),e.Q6J("ngForOf",e.Dn7(101,48,t.lastSales,(t.salesPage-1)*t.salesPageSize,t.salesPage*t.salesPageSize)),e.xp6(3),e.hij("Les ",t.salesPageSize," derni\xe8res ventes en date"),e.xp6(2),e.Q6J("page",t.salesPage)("pageSize",t.salesPageSize)("collectionSize",t.lastSales.length))},directives:[n.lC,l.sg,n.yS,u.N9],pipes:[l.uU,l.JJ,l.OU],styles:[""]}),a})()}];let v=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[n.Bz.forChild(m)],n.Bz]}),a})();var S=i(6315);let A=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[l.ez,v,S.m]]}),a})()}}]);