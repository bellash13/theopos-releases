"use strict";(self.webpackChunktheopos=self.webpackChunktheopos||[]).push([[629],{8629:(q,p,d)=>{d.r(p),d.d(p,{BudgetModule:()=>U});var s=d(9808),g=d(9150),t=d(1223);let m=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-budget"]],decls:3,vars:0,template:function(n,u){1&n&&(t._UZ(0,"router-outlet")(1,"hr"),t._uU(2," BUDGET"))},dependencies:[g.lC]}),e})(),_=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-budget-accounts"]],decls:4,vars:0,consts:[[1,"my-2","p-2","alert","alert-info"]],template:function(n,u){1&n&&(t.TgZ(0,"h4"),t._uU(1,"COMPTES"),t.qZA(),t.TgZ(2,"div",0),t._uU(3," Vous pouvez charger un budget compte par compte pour proc\xe9der par un chargement de masse depuis un fichier excel.\n"),t.qZA())}}),e})();var B=d(2291),i=d(2382);function Z(e,o){if(1&e&&(t.TgZ(0,"option",10),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.Q6J("value",n.budgetId),t.xp6(1),t.Oqu(n.name)}}function f(e,o){if(1&e&&(t.TgZ(0,"div",11)(1,"h4"),t._uU(2,"D\xe9tails du budget"),t.qZA(),t.TgZ(3,"div",12)(4,"div",13)(5,"p")(6,"strong"),t._uU(7,"Nom du budget:"),t.qZA(),t._uU(8),t.qZA(),t.TgZ(9,"p")(10,"strong"),t._uU(11,"P\xe9riode:"),t.qZA()(),t.TgZ(12,"p")(13,"strong"),t._uU(14,"Montant:"),t.qZA()()(),t.TgZ(15,"div",13)(16,"p")(17,"strong"),t._uU(18,"Date de cr\xe9ation:"),t.qZA()(),t.TgZ(19,"p")(20,"strong"),t._uU(21,"Date de mise \xe0 jour:"),t.qZA()()()()()),2&e){const n=t.oxw();t.xp6(8),t.hij(" ",n.selectedBudgetDetails.name,"")}}function h(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"button",17),t.NdJ("click",function(){const c=t.CHM(n).$implicit,r=t.oxw(2);return t.KtG(r.editBudget(c.budgetLineId))}),t._uU(11,"Modifier"),t.qZA(),t.TgZ(12,"button",18),t.NdJ("click",function(){const c=t.CHM(n).$implicit,r=t.oxw(2);return t.KtG(r.deleteBudget(c.budgetLineId))}),t._uU(13,"Supprimer"),t.qZA()()()}if(2&e){const n=o.$implicit;t.xp6(2),t.Oqu(n.idAccount),t.xp6(2),t.Oqu(null==n.account?null:n.account.name),t.xp6(2),t.Oqu(n.debit),t.xp6(2),t.Oqu(n.credit)}}const a=function(){return[]};function b(e,o){if(1&e&&(t.TgZ(0,"div")(1,"h4"),t._uU(2,"Lignes de budget"),t.qZA(),t.TgZ(3,"table",14)(4,"thead")(5,"tr")(6,"th",15),t._uU(7,"Nom"),t.qZA(),t.TgZ(8,"th",15),t._uU(9,"Description"),t.qZA(),t.TgZ(10,"th",15),t._uU(11,"D\xe9bit"),t.qZA(),t.TgZ(12,"th",15),t._uU(13,"Cr\xe9dit"),t.qZA(),t._UZ(14,"th"),t.qZA()(),t.TgZ(15,"tbody"),t.YNc(16,h,14,4,"tr",16),t.qZA()()()),2&e){const n=t.oxw();t.xp6(16),t.Q6J("ngForOf",(null==n.selectedBudgetDetails?null:n.selectedBudgetDetails.budgetLines)||t.DdM(1,a))}}function T(e,o){1&e&&t.GkF(0)}const C=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"",component:m,children:[{path:"accounts",component:_},{path:"list",component:(()=>{class e{constructor(n){this.budgetService=n,this.budgets=[]}ngOnInit(){this.loadBudgets()}loadBudgets(){this.budgetService.index().subscribe(n=>{this.budgets=n},n=>{console.error("Error fetching budgets:",n)})}onBudgetSelect(){this.selectedBudgetId&&this.loadBudgetDetails(this.selectedBudgetId)}loadBudgetDetails(n){this.budgetService.details(n).subscribe(u=>{this.selectedBudgetDetails=u},u=>{console.error("Error fetching budget details:",u)})}editBudget(n){console.log("Edit budget")}deleteBudget(n){console.log("Delete budget")}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(B.LN))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-budget-list"]],decls:14,vars:6,consts:[[1,"container"],[1,"my-4"],[1,"mb-3"],["for","budgetSelect",1,"form-label"],["id","budgetSelect",1,"form-select",3,"ngModel","ngModelChange","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","mb-4",4,"ngIf"],[4,"ngIf"],[1,"mt-4"],[3,"value"],[1,"mb-4"],[1,"row"],[1,"col-md-6"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(n,u){1&n&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2,"Liste des budgets"),t.qZA(),t.TgZ(3,"div",2)(4,"label",3),t._uU(5,"S\xe9lectionner un budget:"),t.qZA(),t.TgZ(6,"select",4),t.NdJ("ngModelChange",function(c){return u.selectedBudgetId=c})("change",function(){return u.onBudgetSelect()}),t.TgZ(7,"option",5),t._uU(8,"Choisir un budget..."),t.qZA(),t.YNc(9,Z,2,2,"option",6),t.qZA()(),t.YNc(10,f,22,1,"div",7),t.YNc(11,b,17,2,"div",8),t.TgZ(12,"div",9),t.YNc(13,T,1,0,"ng-container",8),t.qZA()()),2&n&&(t.xp6(6),t.Q6J("ngModel",u.selectedBudgetId),t.xp6(3),t.Q6J("ngForOf",u.budgets),t.xp6(1),t.Q6J("ngIf",u.selectedBudgetId),t.xp6(1),t.Q6J("ngIf",((null==u.selectedBudgetDetails?null:u.selectedBudgetDetails.budgetLines)||t.DdM(5,a)).length>0),t.xp6(2),t.Q6J("ngIf",u.selectedBudgetId))},dependencies:[s.sg,s.O5,i.YN,i.Kr,i.EJ,i.JJ,i.On]}),e})()}]}];let A=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.Bz.forChild(C),g.Bz]}),e})();var v=d(2611);let U=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[s.ez,A,v.m]}),e})()}}]);